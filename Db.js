const sqlite= require('sqlite3')
const db= new sqlite.Database('hotel.db')
const createUserTable= `CREATE TABLE IF NOT EXISTS USER (ID INTEGER PRIMARY KEY AUTOINCREMENT,
NAME TEXT NOT NULL,
EMAIL TEXT UNIQUE NOT NULL,
PASSWORD TEXT NOT NULL,
ISADMIN INT)`

const createRoomTable=`CREATE TABLE IF NOT EXISTS ROOM (ID INTEGER PRIMARY KEY AUTOINCREMENT,
ROOM_NUMBER TEXT NOT NULL,
ROOM_TYPE TEXT NOT NULL,
PRICE_PER_NIGHT REAL NOT NULL,
CAPACITY INT NOT NULL,
IS_AVAILABLE INT DEFAULT 1)`

const createBookingTable =`CREATE TABLE IF NOT EXISTS BOOKING (ID INTEGER PRIMARY KEY AUTOINCREMENT,
USER_ID INT,
ROOM_ID INT,
CHECK_IN_DATE TEXT NOT NULL,
CHECK_OUT_DATE TEXT NOT NULL,
TOTAL_PRICE REAL NOT NULL,
STATUS TEXT DEFAULT 'CONFIRMED',
FOREIGN KEY (USER_ID) REFERENCES USER(ID),
FOREIGN KEY (ROOM_ID) REFERENCES ROOM(ID))`

module.exports={db,createUserTable,createRoomTable,createBookingTable}